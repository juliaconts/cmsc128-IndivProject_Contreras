<!DOCTYPE html>
<html>
    <head>
        <meta charset = "UTF-8">
        <meta name= "author" content = "width=device-width, initial-scale=1.0">

        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=add,content_paste,gesture_select" />
        <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="{{ url_for('static', filename='account-styling.css') }}">

        <title>Account Profile</title>
    </head>

    <body class="account">
        <div id="header-account">
            <p>TooDoo</p>
        </div>
        <div class="page-container-account">
            <h1>Account Profile</h1>

            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div id="flash-container">
                        <ul id="flash-messages">
                            {% for category, message in messages|unique %}
                                <li data-category="{{ category }}">{{ message }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            {% endwith %}

            <div id="profile-container">

                <!-- View Mode -->
                <div id="viewMode">
                    <div class="account-view">
                        <p class="account-head">Name:</p>
                        <p class="account-shown">{{ user[3] }} {{ user[4] }}</p>
                    </div>
                    
                    <div class="account-view">
                        <p class="account-head">Username:</p>
                        <p class="account-shown">{{ user[2] }}</p>
                    </div>

                    <div class="account-view">
                        <p class="account-head">Email:</p>
                        <p class="account-shown">{{ user[1] }}</p>
                    </div>

                    <div id="account-buttons">
                        <a href="{{ url_for('edit', id=user[0]) }}"></a><button id="editBtn">Edit Profile</button>
                        <a href="{{ url_for('logout') }}"><button>Logout</button></a>
                    </div>    
            </div>
            <div id="formContainer"></div>
        </div>
        
    </div>

    <script>
        const userData = {
            fname: "{{ user[3] }}",
            lname: "{{ user[4] }}",
            username: "{{ user[2] }}"
        };
    </script>

    <script src="{{ url_for('static', filename='account-scripts.js') }}"></script>
    </body>    
</html>

